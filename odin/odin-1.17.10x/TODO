- merge xjupkg into pkg
  - verify build and install odin from scratch
  - test eli

~ pdflatex package that runs pdflatex until output stable
  (otherwise tocs and cross references aren't correct)
  use that for manual

/ produce pdf manual instead of postscript
  x produce manual
  - get TOC and xrefs to work as pdf links

~ fix hash_inc to make sure it includes intermediate directories
  ~ need a test that fails first (added a test and it did not fail,
    because intermediate dirs become inputs - see misc-test/test-6.sh)
  
- fix race condition when immediately re-invoking odin without
  explicit server, handle and document two use cases:
  - explicit server, where user must ensure server is not stopped/started
    while clients are active
  - on-the-fly server, where the client that forks server waits for it
    exit completely before exiting (to avoid race conditions in scripts
    that have strings of odin invocations)
  ... or if possible make client keep trying till it either gets the
  server role or contacts the server.
  
- make sure ctrl-c on client+server does not result in out-of-sync

- make sure machine shutdown while odin server running does not
  result in out-of-sync
  
- add :dirlist derivation which combines ls + targets of Odinfile
  ... not sure why we would want that?

- add :asdir => :DIRECTORY built-in that produces self after verifying
  it is a directory so can do :dirtree without evaluating virtual
  directory files, or is there a better solution? Is a VIRTUAL-DIRECTORY
  a DIRECTORY too? (:asdir could be used with :filter in dirtree.db?)
  I don't think :filter=:DIRECTORY works? That will invoke :dir on anything?
  Test it.

- fix +ignore handling in hash_inc.sh

- add +stdin to :exec / :py.exec
x add +stderr=error to :exec / :py.exec so can capture stderr
  and display it as error messages in :exec.output / :exec.files

~ might be able to put back :cast_hash_incable (not worth it)
  - instead, discuss :cpp scalability issue

- hcp-tags package
  x rework so steps are:
    :FILE => :dir_taggable;
    :taggable => :filetags;
    :dir_taggable:map=:filetags => dir_file_tags;
    EXEC (merge.sh) (:dir_file_tags:ls) NEED (:dir_file_tags) => :dir_tags;
  x ... so that do minimal re-parsing (which is slow)
  - rework hcp-tags-merge.sh to read list of input files on stdin to avoid
    command line too long; give verbose flag to make it report progress to
    stdout; give it output file name as single arg
  
- don't hard-code which path, and test for which separately, eg ld.sh

- extract_dir:
  - if no files, extract all
  - extracted is directory -> error
  - extracted is soft-link -> warning+ignore
- add :cast.tree

- catch malformed in vir_tree.py (eg leading /)

- too many files executable

- resource temporarily unavailable (cygwin)

- :sm.hash_inc_all (?)

- allow :LIST as EXEC tool param, being shorthand for :LIST:ls +need=:LIST

- doc, specific:
  - 2.2.3 ref to xjupkg tree support
  - replace 3.4:
    x much simpler to just use odin 'test-hello!gdb'
    - provide a reference to using xjupkg to run and debug unit tests,
      including a discussion of environments
  - 4.3 add %stuff.tar!tar tf
  ~ 4.4 ~ name -> ~name (latex broken)
  x A.3 "the dependency path" -> "a dependency path"
  x B.1 explain how package loading works:
      odin -R installs tool packages into the cache that command creates, and
      lists the packages that it loads. By default, odin -R loads
      packages from odin's install directory e.g. /usr/lib/Odin, but you
      can load packages from other directories using ODINPKG environment
      variable.
      ODINPKG is a colon-separated list of directories to search, and
      odin looks for a PKGLST file in each of these in turn. From each
      directory it loads the packages listed for that directory, but
      it does not load "duplicate" packages, eg where a PKGLST file specifies
      package X, but package X has already been loaded via a PKGLST from
      a directory earlier in the ODINPKG directory.
      You can therefor "replace" standard odin packages with your own
      package of the same name.
      Note that although you cannot tell odin not to load a particular
      standard package, you can achieve the affect by creating your
      own package of the same name with an empty .dg file.
  x B.1 note that the standard odin packages are not documented here,
      even though the tutorial makes use of them; browse the .dg files
      to see the capabilities of the standard odin packages. Also look
      for others' Odinfile use (including in the odin distribution).
  - B.4 "rare circumstance" example (use FILE:exec.output v 
      FILE:java.exec.output) except that I can't remember why
      that is one.
      
  x B.7.7 provide some discussion: when is this useful for example?

- add more explanations/examples in doc, doc more of the semantics
  of eg param handling (ordering, propogation); include more
  examples (actually it is in the doc already)

- add ODINPKGLIST allowing explicit list of package names to load,
  as list of directories (allowing bash expansion), or maybe let PKGLST
  specify .dg files explicitly as well as directories.

- :LIST +path=(x/y/z):subdir => vir_tree.spec
  ie make a vir_tree.spec placing listed files in the x/y/z subdirectory
  (produces a spec so that can combine multiple of these statements via :cat)

- :DIRECTORY :find deriv could take a real find expression and
  apply it recursively (adding maxdepth=1 at each level)
  only need to note that nested virtual directories tend to be soft
  links rather than actual directories (could translate the find
  expression to account for this?)

x what does <:src> mean? doc is incomprehensible to me
  - 1 for source types, eg:
      :x => :FILE;
      :xa => :x;
      :xb => :x;
      *.xa => :xa;
      *.xb => :xb;
      :y => :FILE;
      :ya => :y;
      :yb => :y;

      EXEC /bin/cp (:xa) 'ya' => (:ya);
      EXEC /bin/cp (:xb) 'yb' => (:yb);

      - what does DG look like?
        equiv from xa to x
        equiv from x to xa
        equiv from xb to x
        equiv from x to xb
        equiv from ya to y
        equiv from y to ya
        equiv from yb to y
        equiv from y to yb

      - can I do 1.xa :yb (which would be the case if :xa is really
        equivalent to :xb)?

       NO. equiv is one-way, like cast, see DG.log bottom

x can't have :hash_inc work off FILE, because everything is a file, eg
  cxx*:exe which uses +define etc
  - define a :hash_incable and make selected file types hash_incable, eg:
    :cxx :c :h :idl
    (note :h is defined in cxx_impl)
    :idl not defined

- update vanilla odin packages:
  x add hash_inc
  x make :IDL and :h hash_incable
  x find all the vanilla packages
    that use :all_c_inc and its clones (eg cpp.dg) and point them
    at :hash_inc_all, or replace them with xju packages
        x code
        x cc
        x cpp
        x cxx
        x odi
        x f77
        x lex
        x yacc
        x idl
        x prof
        x lint
        x misc
        x roff
        x tex
        x dbx
        x run
  - update cpp hash_inc to current behaviour (no +home)
  ~ move my "stable" packages into odin-1.17.10x/pkg and document
    them in the manual
    - actually, put my packages in xjupkg and have doc point to
      where they are documented (eg Annex of manual), 
      x move pkg to xjupkg
      x reinstate vanilla pkg, careful not to clobber my necessary
        changes eg to odin package, dg package, others?
      - update odin.tex

x cc
x code
x config (not copied to xjupkg)
cpp
cxx
dbx
dg
f77
hash_inc
idl
lex
lint
misc
odi
odin
PKGLST
prof
roff
run
tex
tregrm
vc
yacc
PKGLST
        
      - test configure and INSTALL
      - adjust INSTALL to install xjupkg, add odin --xjupkg option
        to use those instead of vanilla
      - confidence check
      - add a configure option to make them the default
      - continue with list of merges above (to eventualy get rid of
        my odin/pkg directory
      - add -ptr check to configure
    - put vanilla odin packages back to retain compatibility
      with existing users (then my changes are more likely to be
      merged back into vanilla odin)
    - note in odin manual tutorial any differences

  - make cxx/cc package link via .a to avoid name shortening silliness
    (like cxx)

  - adjust cpp use of all_c_inc - no +home

~ add x to all package versions where package is now non-vanilla

- idl package:
  .idl.sm -> .idl.h.list or virdir or something
  .idl.sm -> .idl.cxx.sm
  ... so that can generate all headers then
  put them into a virtual subtree for relative path includes
  - this aligns with having several .idl files in each directory

- separate omniidl / taoidl packages that know about the generation
  style? Yes I think so.

- odin shell script:
  x say "installing Tool Package x/y/y.dg" to tie in with odin manual and
    lead user to the .dg file rather than just a directory full of files
  - allow finer control over package list, eg explicitly list .dg files
    to load (ODINPKGLIST) and/or explicitly exclude packages by name
    ODINPKGSKIP
  - group packages into "boot" (those needed to INSTALL), "core" (those
    needed to run) and the rest (perhaps just as documentation alongside
    ODINPKGLIST)
  - update emacs integration, and give a discussion (files in etc)
    - note emacs integration has a deadlock when saving file while
      compiling
  - check environment control, does odin pass through calling process'
    eg PATH, LD_LIBRARY_PATH ... yes it does... what to do?
    - idea is that environment is controlled, repeatable, predictable
    - ! needs display, how to do that?

- odin packages are self-documenting but need cookbook/tutorial/example
  information somewhere (odin/example directory?), needs to be searchable
  ie indexed by google (eg blog posts)

- add scp to misc package
- add gdb package like dbx? Just delete dbx - can do
  (.)+cmd=gdb (%exe) :run!
- rewrite idl to allow a idl.sm :cxx.sm and idl.sm :cxxheaders (which 
  produces a vir_dir with all headers generated from idl compile)
  - and idl.sm :py.sm, :c.sm
  .. or maybe write an omniorb package, since that is direct and would
     allow anyone to use as basis for their own
  (in fact that might be a good way to go in general, instead of
   cxx trying to cope with all compilers, just have a gcc package,
   a vc package etc... downside it would hard to use them both in
   same cache - unless perhaps have .vcxx.sm, .gcxx.sm etc

x some internals:
  Get_OdinFile_Msg is where server side picks up the command to do.
  For a basic derivation eg xxx:yyy, end up in Local_Get_Odinfile("xxx:yyy")
    parses xxx:yyy into Nod, which is a tree:
       type-8 (DRVFIL - from if-candrv.c)
        |son
       type-23 (WORD) -brother- type-14
        - sym "xxx"        |son
                         type-23
                          -sym "yyy"

  Finds the corresponding PrmFHdr (node in derived/source file tree)
    uses HostFN_FileHdr to find the tree node for "xxx" (starting with
      the already-known current-working-drectory tree node then using
      Do_Keys)
    that gets us a tps_FilHdr, then Apply_OprNods, which uses
      Do_Deriv
        GetDrvPath
        Do_DrvPath
     (DrvPath stands for "derivation path")

x best way to debug:
  odin -s
    x starts server process
  in another window ps -ef | grep odin
    x shows one server process
  in emacs, gdb attaching to that process
  b Local_Get_OdinFile

  in odin -s window:
    dir=/data/xju/tmp
    f1.x+a=1+b=2:y
    ... should hit the breakpoint

    
x step/next to get to this point:
#0  Do_Deriv (FilHdr=0x9469948, InhFilPrm=0x9468bc8, PrecFilPrm=0x946c8e0, ToFilTyp=0x9451cb8) at if-candrv.c:181
#1  0x0804bd42 in Apply_OprNods (FilHdr=0x9469948, FilPrm=0x946c8e0, OprNod=0x946b3a8) at if-candrv.c:548
#2  0x0804c123 in Nod_PrmFHdr (Nod=0x946b3c0) at if-candrv.c:641
#3  0x0804c5d9 in Local_Get_OdinFile (OdinExpr=0xbf8a8fd8 "f1.x +a=1 +b=2 :y", NeedsData=0) at if-candrv.c:787

x at this point:
    FilHdr represents the host file f1.x
    InhFilPrm is head of list of params
    PrecFilPrm is tail of list of params
    the list is ->Son->Son...

  ... which can be seen by:
(gdb) p (*(*(*RootFilPrm).Son).PrmTyp)
$25 = {PTName = 0x9466480 "a", Desc = 0x9466490 "param a", HelpLevel = 2, FilTyp = 0x9451718, RootLocPVal = 3848, StrDirLocHdr = 3574, Mark = 0, IPrmTyp = 4}
(gdb) p (*(*(*(*RootFilPrm).Son).Son).PrmTyp)
$26 = {PTName = 0x94664a0 "b", Desc = 0x94664b0 "param b", HelpLevel = 2, FilTyp = 0x9451718, RootLocPVal = 4158, StrDirLocHdr = 3884, Mark = 0, IPrmTyp = 5}

... and we can step through to:

148			  DrvFilPrm = Strip_FilPrm(FilPrm, PrmTypLst); };}/*select*

... and I reckon this will take a+b (in FilPrm) and reduce that to just a.

... more interesting would be a bit before, where we get PrmTypLst:

	    PrmTypLst = DrvPth_PrmTypLst(DrvPthElm);



with map, derivations are much more complicated:

=> f.x.sm+a=1+b=1:y.sm.list
** Generating /data/xju/tmp/f.x.sm +a=1 +b=1 :x*y.sm.list
** Generating /data/xju/tmp :odin*targets_ptr
** Generating /data/xju/tmp/Odinfile :odin*targets_ptr
** Generating /data/xju/tmp :odin*act_tgt.list
** Generating /data/xju/tmp/f.x.sm :x*x.sm.list
** Generating /data/xju/tmp/f.x.sm :x*x.sm.list +a=1 +b=1 :map=:y
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x :odin*targets_ptr
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x/Odinfile :odin*targets_ptr
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x :odin*act_tgt.list
** Generating /data/xju/tmp/ocnopkg/xjutv/PRM +a=1 :odin*prm_values
** Generating /data/xju/tmp/ocnopkg/xjutv/PRM +a=1 :odin*prm_values :odin*ls
** Generating /data/xju/tmp/f1.x +a=1 :x*y
** Executing : '/data/xju/tmp/ocnopkg/xjutv/PKGS/x/y.sh' '/data/xju/tmp/f1.x' '/data/xju/tmp/ocnopkg/xjutv/FILES/PRM.6871.ls'
=> f.x.sm+a=1+b=1:y.sm.list+depend=f.x.sm!:dpath
=> f.x.sm+a=1+b=1:y.sm.list+depend=(f.x.sm)!:dpath
2654    - /data/xju/tmp/f.x.sm
   is an input of:
3768    - /data/xju/tmp/f.x.sm :x*x.sm.list
   is an input of:
4136    - /data/xju/tmp/f.x.sm :x*x.sm.list +a=1 +b=1 :map=:y
   is an element of:
3932    - /data/xju/tmp/f.x.sm +a=1 +b=1 :x*y.sm.list


... and the initial Do_Deriv is short, but it gets called again a few times

eventually one has Make_MapLocElm in it, which might be interesting,

(gdb) up
#4  0x0804c574 in Make_MapLocElm (FilHdr=0x932cc18, ListFilHdr=0x932ce28) at if-candrv.c:764
... but it has already spat out:
** Generating /data/xju/tmp/f.x.sm :x*x.sm.list +a=1 +b=1 :map=:y
... so has already decided that :map=:y needs both params


x cpp.dg looks like might cause trouble, based on DG.log in the $ODIN cache,
at least I will remove the gmc.cpp deriv since it uses +define in a
derivation that produces a GENERIC ... but that doesn't fix the original problem (it might be part of the fix)

In this stack trace:

bt
#0  Do_Deriv (FilHdr=0x99f7708, InhFilPrm=0x99f8328, PrecFilPrm=0x99f3f98, ToFilTyp=0x99dcf40) at if-candrv.c:181
#1  0x0805ee48 in Do_InpSpc (BaseFilHdr=0x99f7708, InhFilPrm=0x99f8328, InpSpc=0x99e9970, Tool=0x99e38f8) at if-filinp.c:569
#2  0x0805f0c4 in Get_LocInp (FilHdr=0x99f8358) at if-filinp.c:637
#3  0x08059736 in Insert_FilHdr (BaseFilHdr=0x99f7708, FKind=8, FilTyp=0x99dcef8, FilPrm=0x99f8328, Ident=0x0) at if-fhnew.c:87
#4  0x080599bf in Extend_FilHdr (BaseFilHdr=0x99f7708, FKind=8, FilTyp=0x99dcef8, FilPrm=0x99f8328, IdentStr=0x0) at if-fhnew.c:147
#5  0x08059a3a in Get_Drv (BaseFilHdr=0x99f7708, FKind=8, FilTyp=0x99dcef8, FilPrm=0x99f8328, Ident=0x0) at if-fhnew.c:174
#6  0x0804b0a9 in Do_DrvPth (FilHdr=0x99f7708, InhFilPrm=0x99f3f98, PrecFilPrm=0x99f8328, DrvPth=0x99f7648) at if-candrv.c:155
#7  0x0804b1e5 in Do_Deriv (FilHdr=0x99f7708, InhFilPrm=0x99f3f98, PrecFilPrm=0x99f8328, ToFilTyp=0x99dcd90) at if-candrv.c:197
#8  0x0804bd42 in Apply_OprNods (FilHdr=0x99f7708, FilPrm=0x99f8328, OprNod=0x99f8058) at if-candrv.c:548
#9  0x0804c123 in Nod_PrmFHdr (Nod=0x99f8070) at if-candrv.c:641
#10 0x0804c5d9 in Local_Get_OdinFile (OdinExpr=0xbfd67a68 "/data/xju/tmp/f.x.sm :x*x.sm.list +a=1 +b=2 :y.sm.list", NeedsData=0) at if-candrv.c:787
#11 0x08074db3 in Get_OdinFile (FileName=0xbfd6799c "", StatusPtr=0xbfd67a64, ExecFlagPtr=0xbfd67998, OdinExpr=0xbfd67a68 "/data/xju/tmp/f.x.sm :x*x.sm.list +a=1 +b=2 :y.sm.list", NeedsData=0) at stub-out.c:529
#12 0x0804e3ee in Do_ShowStatus (AbortPtr=0xbfd693d8, Root=0x99f62d0) at if-cmd.c:253
#13 0x0804f1cd in Do_Command (AbortPtr=0xbfd693d8, Root=0x99f62d0, Interactive=1) at if-cmd.c:585
#14 0x0804f3fa in CommandInterpreter (AbortPtr=0xbfd693d8, Root=0x99f62d0, Interactive=1) at if-cmd.c:646
#15 0x08069770 in TopLevelCI (AbortPtr=0xbfd693d8, Str=0xbfd6870c "/data/xju/tmp/f.x.sm :x*x.sm.list +a=1+b=2:y.sm.list") at if-main.c:47
#16 0x08067439 in IPC_Get_Commands (AbortPtr=0xbfd693d8, Prompt=0x807d3fe "=> ") at if-ipc.c:489
#17 0x080697df in Get_Commands (AbortPtr=0xbfd693d8) at if-main.c:66
#18 0x08069921 in main (argc=2, argv=0xbfd69494) at if-main.c:120
(gdb) 

at #1:

	    FilHdr = Do_Deriv(FilHdr, InhFilPrm, PrecFilPrm, OpInpSpc->FilTyp);

... we have InhFilPrm+PrecFilPrm is a list of +a=1+b=1
OpInpSpc->FilTyp->FTName is "map"
OpInpSpc->FilTyp->ArgFilTyp->FTName is "y"
... that looks like what we're interested in (+a=1+b=1:map=:y)

... we then do Get_DrvPth and then move on to Do_DrvPth:

#0  Do_DrvPth (FilHdr=0x99f7708, InhFilPrm=0x99f8328, PrecFilPrm=0x99f3f98, DrvPth=0x99f7668) at if-candrv.c:140

... and it does the usual and calls:
DrvPth_PrmTypLst
... which chooses:
   if (DrvEdg != NIL) {
      return DrvEdg_PrmTypLst(DrvEdg); }/*if*/;

... but DrvEdg_PrmTypLst returns 0x0 as the PrmTypLst?

... when we get back to Do_DrvPth we choose:
	       if (IsGroupingInput_FilTyp(FilTyp)) {
		  DrvFilPrm = FilPrm;

... and we don't use the PrmTypLst, instead we go straight to:
	    FilHdr = Get_Drv(FilHdr, FKind, FilTyp, DrvFilPrm, DfltIdent);
... with:
FilTyp is our :map=:y
DrvFilPrm is end of our +a=1+b=1 list


x alas there is no function to find all the drvpths that lead to y (such as would
allow us to collect up all the applicable parameter types)

x obviously the info is in the graph, but on the surface it would appear tricky
  to build one... perhaps not: DG.log spits out all possible
  derivations, which should allow us to build our own "reverse" graph, either
  on-the-fly when loading DG or save to DG (or another file even)

x in DG.log there is an explicit map=:xy entry (which shows what can
  be derived from map=:xy)
x in DG.log there is a OBJECT -> map=:xy listed, and it has
  no attached params: we want to fill in the params
x all -> map=* entries have OBJECT as their source type (I would have
  expected LIST? Should not make any difference.)
x can see in dg-filtyp.c where it prints 'Possible Derivations :' then
  loops through each, and it will be the DrvEdg that has the -> map=:xy
x DrvEdg.h has tps_DrvEdg which has:
    tp_FilTyp FilTyp
    tp_PrmTypLst PrmTypLst (0x0 for map FilTyp see above)

  for map FilType.Tool->TClass==TC_Map

  FilType ":xy" is represented as tp_FilTyp ArgFilTyp and so will always be
  a single type (ie :xy never :z:xy) I think. And the ArgFilTyp.FTName should be
  ":xy".

  x want to adjust PrmTypLst just before writing out DG / DG.log (and before
    dumping 'Possible Derivations):

    dg-main.c calls a Make_PrmTypLsts, perhaps should adjust that?
      it is in dg-analyze.c
      - yes, add a step at the end, perhaps call it 
        void Set_TC_Map_DrvEdg_PrmTypLst(tp_FilTyp FilTyp)
        ... assuming that reverse mappings has been pre-built, eg by
        Build_TC_Map_PrmTypLst_Info(tp_FilTyp begin)
           - which would build from drv, eqv and cast edges (see dg-filtyp.c
             Print_Info for how to go through those)

  x test that:
    x figure out which dg.exe is used to create cache
    x update it
    x create cache
    x step through above code and see if DrvEdg_PrmTypLst returns 0x0
      (see above)

  x then just need to adjust Do_DrvPth (see above)

... after adjustment, get following, note difference in Generating...:map=:xy line, it now does not mention b, so I think we've won:

=>  f.x.sm+a=1+b=2:xy.sm.list
** Generating /data/xju/tmp/f.x.sm +a=1 +b=2 :x*xy.sm.list
** Generating /data/xju/tmp :odin*targets_ptr
** Generating /data/xju/tmp/Odinfile :odin*targets_ptr
** Generating /data/xju/tmp :odin*act_tgt.list
** Generating /data/xju/tmp/f.x.sm :x*x.sm.list
** Generating /data/xju/tmp/f.x.sm :x*x.sm.list +a=1 :map=:xy
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x :odin*targets_ptr
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x/Odinfile :odin*targets_ptr
** Generating /data/xju/tmp/ocnopkg/xjutv/PKGS/x :odin*act_tgt.list
** Generating /data/xju/tmp/ocnopkg/xjutv/PRM +a=1 :odin*prm_values
** Generating /data/xju/tmp/ocnopkg/xjutv/PRM +a=1 :odin*prm_values :odin*ls
** Generating /data/xju/tmp/f1.x +a=1 :x*xy
** Executing : '/data/xju/tmp/ocnopkg/xjutv/PKGS/x/y.sh' '/data/xju/tmp/f1.x' '/data/xju/tmp/ocnopkg/xjutv/FILES/PRM.6871.ls'
=> 

- a confidence check:

xju@xjutv:~/urnest/odin/odin-1.17.10x$ ./configure  && ./CLEAN && ./INSTALL ~/u1 && PATH=~/u1/bin:$PATH ../create-linux-cache.sh ~/tmp/u1c && ODIN=~/tmp/u1c ~/u1/bin/odin pkg/cpp%test1 && ODIN=~/tmp/u1c ~/u1/bin/odin ../../xju%run-standalone-tests && ODIN=~/tmp/u1c ~/u1/bin/odin xjupkg%run-all-tests

- before I did:

xju@xjutv:/data/xju/u1/urnest/odin/odin-1.17.10x$ git commit -m 'avoid inappropriate use of java :output' -a
[master 5f21a62] avoid inappropriate use of java :output
 1 files changed, 4 insertions(+), 4 deletions(-)

... why did it:

--- <() +cmd=(/data/xju/u1/urnest/xju/Odinfile%test-stringToTime.cxx.sm +(/data/xju/u1/urnest%cxx-opts) :exe) :java*java.stdout*composite> generated errors ---
Exception in thread "main" java.lang.NoClassDefFoundError: .data.xju.tmp.u1c.xjutv.FILES.a.none.hh.205404.exe
   at gnu.java.lang.MainThread.run(libgcj.so.10)
Caused by: java.lang.ClassNotFoundException: .data.xju.tmp.u1c.xjutv.FILES.a.none.hh.205404.exe not found in gnu.gcj.runtime.SystemClassLoader{urls=[file:/data/xju/tmp/u1c/classes/], parent=gnu.gcj.runtime.ExtensionClassLoader{urls=[], parent=null}}
   at java.net.URLClassLoader.findClass(libgcj.so.10)
   at gnu.gcj.runtime.SystemClassLoader.findClass(libgcj.so.10)
   at java.lang.ClassLoader.loadClass(libgcj.so.10)
   at java.lang.ClassLoader.loadClass(libgcj.so.10)
   at gnu.java.lang.MainThread.run(libgcj.so.10)
java -cp /data/xju/tmp/u1c/classes /data/xju/tmp/u1c/xjutv/FILES/a/none.hh.205404.exe failed.


x optimise Exec_List, because a view spec tends to have repeated/redundent
info should be able to reduce recalculation
  X eg for case of if-execint.c line 135:
      case TC_ViewSpec: {
	 FORBIDDEN(ExecSpc->NumInps != 1 || ExecSpc->NumOuts != 1);
         Do_Log("{Exec_List(View_Spec)", FilHdr, LOGLEVEL_IntGenerate);
	 Exec_List(FilHdr, Inputs[0], RootFilPrm, FALSE);
         Do_Log("}Exec_List(View_Spec)", FilHdr, LOGLEVEL_IntGenerate);

  x set up test view spec:

    ODINVERIFYLEVEL=0 odin maxbuilds=4 'test.viewspec:view:ls>'
    /home/xju/tmp/test-viewspec/a/p
    /home/xju/tmp/test-viewspec/b/q
    /home/xju/tmp/test-viewspec/c/r
  
  x use gdb to figure out what Exec_List is doing

  x in Exec_List, parse first line to get DS_Nod = Nod:
      p *DS_Nod
  $8 = {NodTyp = 8, Sym = 0x0, Brother = 0x0, Son = 0x873ed90}
  (gdb) p *(*DS_Nod).Son
  $9 = {NodTyp = 23, Sym = 0x8742078, Brother = 0x0, Son = 0x0}
  (gdb) p *(*DS_Nod).Son.Sym
  $10 = {Str = 0x8742088 "a/p", Att = 0, Next = 0x0}
  (gdb) ... then go into 	 PrmFHdr = Nod_PrmFHdr(DS_Nod);
  
  DS_Nod is:
    Type DRVFIL
    Brother nil
    Son (RootNod):
      Type WORD
      Brother nil (OprNod)
      Sym 'a/p'
  
  down
  #0  Nod_PrmFHdr (Nod=0x8b7b188) at if-candrv.c:626
  (gdb) 
  
        case WORD: {
  	 FilHdr = HostFN_FilHdr(Sym_Str(Nod_Sym(RootNod)));
  
  -> if-fhnam.c 277
  
  	 FilHdr = Do_Keys(Top_CWDFilHdr(), strcpy(Key, FileName)); };}/*select*/;
     return FilHdr;
  
  ... back in Nod_PrmFHdr:
  
     return Apply_OprNods(FilHdr, RootFilPrm, OprNod);
     RootFilPrm is global
  
  for the "='xxx'" line:
  p Str
  $18 = (tp_Str) 0xbf9e0674 "=''"
  (gdb) p DS_Nod
  $19 = (tp_Nod) 0x8b7b1b0
  (gdb) p (*DS_Nod)
  $20 = {NodTyp = 8, Sym = 0x0, Brother = 0x0, Son = 0x8b7b150}
  (gdb) p (*(*DS_Nod).Son)
  $21 = {NodTyp = 21, Sym = 0x0, Brother = 0x0, Son = 0x8b7b188}
  (gdb) 


x how does max builds work? It seems like maybe if I have maxbuilds=4
  it kicks off 4 e.g. compiles then waits for those 4 to finish before
  kicking off any more? Sometimes.

  x where in code is maxbuilds used? Might be quicker or interesting too.

    if-ipc.c IPC_Get_Commands loop catches SIGCHILD, calls ChildAction
    calls if-build.c Build_Done calls Job_Done calls Local_Job_Done

    if-exec.c Local_Job_Done sets IsAny_ReadyServerAction and decrements
    if-client.c Client->NumJobs in Del_Job

    if-ipc.c IPC_Get_Commands sees IsAny_ReadyServerAction, calls
    if-client.c ServerAction calls Do_ToDo calls Do_1ToDo
    Do_1ToDo calls Exec on jobs till NumJobs == MaxJobs
    if-exec.c Exec calls Add_Job, which incs NumJobs

  ... it looks like it should work but I think the devil is in the
  (Do_ToDo v PushAllReqs) detail.

  x review refactoring
  x use it for a while
  x figure out what pending is about
  x only call Push_AllReqs in ServerAction and
    make ServerAction be:
      Push_AllReqs
      if (!AllUpToDate()){
        LaunchSome();
	return False;
      }
      return False;
- make pending use a stack variable not global, use C++ vector
- make MaxJobs and NumJobs global (i.e. per server)
- make client a C++ class, get rid of CurrentClient (always pass)
  - build all as C++
  - remove extern "C"
- fix up LastToDo:
  make ToDo a vector, LastToDo an index, then LaunchSome becomes:
    size_t const StartAt(LastToDo);
    for(size_t i=0; i!=ToDo.size(); ++i){
      LastToDo=(StartAt+i)%ToDo.size();
      xxx;
    }
    LastToDo=ToDo.size();
   ... and Push_ToDo always push_back(); never fiddle with LastToDo


get pkg/*/Odinfile targets to work, to make it easier to work on odin
internals
  - note that boot/default-dg.c covers all packages in pkg, so
    any changes to packages needs to regenerate that file
  - i.e. put it in "%all"
  - use cache created with environment of pkg/config/boot.sh when
    building those targets and do not load xjupkg
      x create a bin/odv930 to do that, note the good boot.sh gets
        installed in /home/xju/x-bin/lib/Odin/config/1.17.11/boot.sh
      
  - need way to build a test installation and use it without trashing
    the good odin install, do we only need to override which odin?

log of configure and install


xju@xjutv:~/urnest/odin/odin-1.17.10x$ ./configure
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking how to run the C preprocessor... gcc -E -x c-header
checking for g++... g++
checking whether we are using the GNU C++ compiler... yes
checking whether g++ accepts -g... yes
checking for flex... no
checking for lex... no
checking whether ln -s works... yes
checking whether make sets $(MAKE)... yes
checking for ranlib... ranlib
checking for bison... no
checking for byacc... byacc
checking for library containing t_accept... no
checking for library containing socket... none required
checking for grep that handles long lines and -e... /bin/grep
checking for egrep... /bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking for size_t... yes
checking for working alloca.h... yes
checking for alloca... yes
checking dirent.h usability... yes
checking dirent.h presence... yes
checking for dirent.h... yes
checking process.h usability... no
checking process.h presence... no
checking for process.h... no
checking termio.h usability... yes
checking termio.h presence... yes
checking for termio.h... yes
checking termios.h usability... yes
checking termios.h presence... yes
checking for termios.h... yes
checking for unistd.h... (cached) yes
checking unix.h usability... no
checking unix.h presence... no
checking for unix.h... no
checking for mode_t... yes
checking for pid_t... yes
checking for size_t... (cached) yes
checking for stdlib.h... (cached) yes
checking for GNU libc compatible malloc... yes
checking for stdlib.h... (cached) yes
checking for GNU libc compatible realloc... yes
checking for wait3 that fills in rusage... yes
checking for getcwd... yes
checking for putenv... yes
checking for sigaction... yes
checking for waitpid... yes
configure: creating ./config.status
config.status: creating pkg/config/boot.sh
config.status: creating pkg/config/config.dg
config.status: creating pkg/config/version
config.status: creating pkg/odin/inc/config.hh
config.status: pkg/odin/inc/config.hh is unchanged
xju@xjutv:~/urnest/odin/odin-1.17.10x$ ./INSTALL ~/x-bin
Installing odin packages into /home/xju/x-bin/lib/Odin.
Installing odin command into /home/xju/x-bin/bin/odin.
Installing odin man page into /home/xju/x-bin/man/man1/odin.1.
(cd boot; make CC=gcc CFLAGS='-g');
make[1]: Entering directory '/home/xju/urnest/odin/odin-1.17.10x/pkg/odin/boot'
gcc -g   -c -o client-yacc.o client-yacc.c
gcc -g   -c -o default-dg.o default-dg.c
gcc -g   -c -o fsys-yacc.o fsys-yacc.c
gcc -g   -c -o stub-in.o stub-in.c
gcc -g   -c -o stub-out.o stub-out.c
make[1]: Leaving directory '/home/xju/urnest/odin/odin-1.17.10x/pkg/odin/boot'
(cd editline; make CC=gcc CFLAGS='-g')
make[1]: Entering directory '/home/xju/urnest/odin/odin-1.17.10x/pkg/odin/editline'
gcc -g   -c -o editline.o editline.c
gcc -g   -c -o complete.o complete.c
gcc -g   -c -o sysunix.o sysunix.c
make[1]: Leaving directory '/home/xju/urnest/odin/odin-1.17.10x/pkg/odin/editline'
g++ -g   -c -o main.o main.cc
gcc -g   -c -o if-bcast.o if-bcast.c
gcc -g   -c -o if-build.o if-build.c
gcc -g   -c -o if-candrv.o if-candrv.c
g++ -g   -c -o if-client.o if-client.cc
gcc -g   -c -o if-cmd.o if-cmd.c
gcc -g   -c -o if-depend.o if-depend.c
gcc -g   -c -o if-drvgrf.o if-drvgrf.c
gcc -g   -c -o if-dir.o if-dir.c
gcc -g   -c -o if-drvpth.o if-drvpth.c
gcc -g   -c -o if-drvspc.o if-drvspc.c
gcc -g   -c -o if-edg.o if-edg.c
gcc -g   -c -o if-env.o if-env.c
gcc -g   -c -o if-err.o if-err.c
gcc -g   -c -o if-exec.o if-exec.c
gcc -g   -c -o if-execint.o if-execint.c
gcc -g   -c -o if-execspc.o if-execspc.c
gcc -g   -c -o if-fhacc.o if-fhacc.c
gcc -g   -c -o if-fhnam.o if-fhnam.c
gcc -g   -c -o if-fhnew.o if-fhnew.c
gcc -g   -c -o if-fhsrc.o if-fhsrc.c
gcc -g   -c -o if-fhstat.o if-fhstat.c
gcc -g   -c -o if-file.o if-file.c
gcc -g   -c -o if-filelm.o if-filelm.c
gcc -g   -c -o if-filhdr.o if-filhdr.c
gcc -g   -c -o if-filinp.o if-filinp.c
gcc -g   -c -o if-filprm.o if-filprm.c
gcc -g   -c -o if-filpval.o if-filpval.c
gcc -g   -c -o if-filtyp.o if-filtyp.c
gcc -g   -c -o if-ft.o if-ft.c
gcc -g   -c -o if-get.o if-get.c
gcc -g   -c -o if-help.o if-help.c
gcc -g   -c -o if-hook.o if-hook.c
gcc -g   -c -o if-info.o if-info.c
gcc -g   -c -o if-io.o if-io.c
gcc -g   -c -o if-ipc.o if-ipc.c
gcc -g   -c -o if-lex.o if-lex.c
gcc -g   -c -o if-lvl.o if-lvl.c
gcc -g   -c -o if-main.o if-main.c
gcc -g   -c -o if-nod.o if-nod.c
gcc -g   -c -o if-oclex.o if-oclex.c
gcc -g   -c -o if-pfilhdr.o if-pfilhdr.c
gcc -g   -c -o if-prmtyp.o if-prmtyp.c
gcc -g   -c -o if-rbs.o if-rbs.c
gcc -g   -c -o if-symbol.o if-symbol.c
gcc -g   -c -o if-sysdep.o if-sysdep.c
gcc -g   -c -o if-system.o if-system.c
gcc -g   -c -o if-systools.o if-systools.c
gcc -g   -c -o if-update.o if-update.c
gcc -g   -c -o if-util.o if-util.c
gcc -g   -c -o if-var.o if-var.c
gcc -g   -c -o if-yylex.o if-yylex.c
g++ -g   -c -o LookupPlainAbsPath.o LookupPlainAbsPath.cc
g++ -g  -o odin.exe main.o if-bcast.o if-build.o if-candrv.o if-client.o if-cmd.o if-depend.o if-drvgrf.o if-dir.o if-drvpth.o if-drvspc.o if-edg.o if-env.o if-err.o if-exec.o if-execint.o if-execspc.o if-fhacc.o if-fhnam.o if-fhnew.o if-fhsrc.o if-fhstat.o if-file.o if-filelm.o if-filhdr.o if-filinp.o if-filprm.o if-filpval.o if-filtyp.o if-ft.o if-get.o if-help.o if-hook.o if-info.o if-io.o if-ipc.o if-lex.o if-lvl.o if-main.o if-nod.o if-oclex.o if-pfilhdr.o if-prmtyp.o if-rbs.o if-symbol.o if-sysdep.o if-system.o if-systools.o if-update.o if-util.o if-var.o if-yylex.o LookupPlainAbsPath.o boot/fsys-yacc.o boot/client-yacc.o boot/default-dg.o boot/stub-in.o boot/stub-out.o editline/editline.o editline/complete.o editline/sysunix.o \
         `if [ $ODINBOOT_CONFIG ] ; then echo $ODINBOOT_SOCKET_LIBS; \
  elif [ -f /usr/lib/libsocket.* ] ; then echo '-lsocket -lnsl'; \
  else true; fi`
cc-1.12.6 package created.
code-1.11.18 package created.
config-1.17.11 package created.
ls: cannot access '*.exe': No such file or directory
cpp-1.12.6 package created.
cxx-1.12.6 package created.
dbx-1.13.4 package created.
ls: cannot access '*.exe': No such file or directory
dg-1.16.11 package created.
f77-1.11.10 package created.
idl-1.13.3 package created.
lex-1.11.10 package created.
lint-1.12.6 package created.
misc-1.12.6 package created.
odi-1.11.15 package created.
odin-1.17.9 package created.
prof-1.13.4 package created.
roff-1.12.6 package created.
run-1.13.4 package created.
tex-3.0.0 package created.
ls: cannot access '*.exe': No such file or directory
tregrm-1.15 package created.
vc-1.11.19 package created.
yacc-1.15 package created.
New cache created at /home/xju/urnest/odin/odin-1.17.10x/ODINBOOT/xjutv.
Clearing Tool Packages for /home/xju/urnest/odin/odin-1.17.10x/ODINBOOT/xjutv.
Installing Tool Package /home/xju/x-bin/lib/Odin/config/1.17.11/config.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/odin/1.17.9/odin.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/vc/1.11.19/vc.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/code/1.11.18/code.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/cc/1.12.6/cc.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/cpp/1.12.6/cpp.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/cxx/1.12.6/cxx.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/odi/1.11.15/odi.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/f77/1.11.10/f77.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/lex/1.11.10/lex.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/yacc/1.15/yacc.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/tregrm/1.15/tregrm.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/dg/1.16.11/dg.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/idl/1.13.3/idl.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/prof/1.13.4/prof.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/lint/1.12.6/lint.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/misc/1.12.6/misc.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/roff/1.12.6/roff.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/tex/3.0.0/tex.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/dbx/1.13.4/dbx.dg.
Installing Tool Package /home/xju/x-bin/lib/Odin/run/1.13.4/run.dg.
Using bootstrap derivation graph.
<> pkg/odin %odin-install !
<>    %rbs-exe > $ODINPKG/rbs.exe
sh
scan_for_includes if-symbol.c
scan_for_includes if-io.c
scan_for_includes if-system.c
scan_for_includes if-dir.c
scan_for_includes if-file.c
scan_for_includes if-err.c
scan_for_includes rbs.c
scan_for_includes if-sysdep.c
scan_for_includes Sym.h
scan_for_includes FileName.h
scan_for_includes SKind_.h
scan_for_includes Str.h
scan_for_includes GMC.h
scan_for_includes Build.h
scan_for_includes sys_param.h
scan_for_includes Macro.h
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-file.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g rbs.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-io.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-sysdep.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-dir.c
gcc -c -DNO_IPC -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-err.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-symbol.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-system.c
gcc -g
** Copied up-to-date value into: /home/xju/x-bin/lib/Odin/odin/1.17.9/rbs.exe
odin-1.17.9 package created (phase 2).
Using bootstrap derivation graph.
if [ "$ODINBOOT" = "" ] ; then echo " tregrm-yacc.c == tregrm.ygi :c +default=(tregrm-yacc.c.dflt) :boot "; fi
<> pkg/tregrm %odin-install !
<>    %exe > $ODINPKG/tregrm.exe
scan_for_includes tg-gen_lex.c
scan_for_includes tg-att.c
scan_for_includes tg-main.c
scan_for_includes tg-gen_nod.c
scan_for_includes tg-anal.c
scan_for_includes tg-gen_grm.c
scan_for_includes tg-dummy.c
tregrm.exe tregrm.ygi
** Verified up-to-date: /home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm/inc/NodTyp_.h
scan_for_includes tg-nod_grm.c
scan_for_includes tg-yylex.c
scan_for_includes Lex_.h
scan_for_includes if-nod.c
** Verified up-to-date: /home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm/inc/TokTyp_.h
scan_for_includes GMC.h
scan_for_includes AttTyp_.h
scan_for_includes tregrm-yacc.c
scan_for_includes NodTyp_.h
scan_for_includes MarkTyp_.h
scan_for_includes TokTyp_.h
scan_for_includes Macro.h
scan_for_includes Str.h
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-anal.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-main.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-dummy.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-gen_lex.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-att.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/odin -g if-nod.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-gen_nod.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-gen_grm.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-yylex.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tregrm-yacc.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/tregrm -g tg-nod_grm.c
gcc -g
** Copied up-to-date value into: /home/xju/x-bin/lib/Odin/tregrm/1.15/tregrm.exe
tregrm.exe tregrm.ygi
tregrm-1.15 package created (phase 2).
Using bootstrap derivation graph.
if [ "$ODINBOOT" = "" ] ; then echo " dg-yacc.c == drvgrf.ygi :c "; fi
<> pkg/dg %odin-install !
<>    %exe > $ODINPKG/dg.exe
scan_for_includes dg-envvar.c
scan_for_includes dg-edg.c
scan_for_includes dg-build.c
scan_for_includes dg-analyze.c
scan_for_includes main.cxx
scan_for_includes dg-filtyp.c
scan_for_includes dg-main.c
scan_for_includes dg-prmtyp.c
tregrm.exe drvgrf.ygi
scan_for_includes GMC.h
scan_for_includes CastEdg.h
scan_for_includes DPType_.h
scan_for_includes dg-main.h
scan_for_includes FilTyp.h
scan_for_includes FKind_.h
scan_for_includes EqvEdg.h
scan_for_includes DrvEdg.h
scan_for_includes FTClass_.h
scan_for_includes Macro.h
scan_for_includes InpSpc.h
scan_for_includes ISKind_.h
scan_for_includes InpEdg.h
scan_for_includes InpKind_.h
scan_for_includes MemEdg.h
** Verified up-to-date: /home/xju/urnest/odin/odin-1.17.10x/pkg/dg/inc/NodTyp_.h
scan_for_includes PrmTyp.h
g++ -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g main.cxx
scan_for_includes TClass_.h
scan_for_includes tc-map-prm-info.h
scan_for_includes Str.h
scan_for_includes Tool.h
scan_for_includes Entry.h
scan_for_includes DG_Version.h
scan_for_includes PrmTypLst.h
scan_for_includes NodTyp_.h
scan_for_includes EnvVar.h
scan_for_includes EnvVarLst.h
scan_for_includes tagged.h
scan_for_includes SrcTyp.h
scan_for_includes dg-main.h
scan_for_includes dg-tool.c
scan_for_includes dg-valid.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-main.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-edg.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-prmtyp.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-envvar.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-filtyp.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-analyze.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-build.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-tool.c
scan_for_includes dg-yylex.c
scan_for_includes IOTyp.h
scan_for_includes dg-yacc.c
scan_for_includes if-ft.c
** Verified up-to-date: /home/xju/urnest/odin/odin-1.17.10x/pkg/dg/inc/TokTyp_.h
scan_for_includes if-lvl.c
scan_for_includes tc-map-prm-info.cxx
scan_for_includes assert.cxx
scan_for_includes if-drvpth.c
scan_for_includes TokTyp_.h
scan_for_includes DrvPth.h
scan_for_includes Lvl.h
scan_for_includes PType_.h
scan_for_includes Pos.h
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-valid.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-yacc.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g if-ft.c
scan_for_includes tc-map-prm-info.h
scan_for_includes TClass_.h
scan_for_includes assert.h
scan_for_includes PrmTyp.h
scan_for_includes Tool.h
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g dg-yylex.c
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g if-drvpth.c
scan_for_includes GMC.h
scan_for_includes DPType_.h
scan_for_includes CastEdg.h
scan_for_includes EqvEdg.h
scan_for_includes DrvEdg.h
scan_for_includes tagged.h
scan_for_includes PrmTypLst.h
scan_for_includes Macro.h
scan_for_includes FilTyp.h
gcc -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g if-lvl.c
g++ -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g assert.cxx
g++ -c -I/home/xju/urnest/odin/odin-1.17.10x/pkg/dg -g tc-map-prm-info.cxx
g++ -g o/assert.o o/dg-analyze.o o/dg-build.o o/dg-edg.o o/dg-envvar.o o/dg-filtyp.o o/dg-main.o o/dg-prmtyp.o o/dg-tool.o o/dg-valid.o o/dg-yacc.o o/dg-yylex.o o/if-drvpth.o o/if-err.o o/if-file.o o/if-ft.o o/if-io.o o/if-lvl.o o/if-nod.o o/if-symbol.o o/main.o o/tc-map-prm-info.o
** Copied up-to-date value into: /home/xju/x-bin/lib/Odin/dg/1.16.11/dg.exe
dg-1.16.11 package created (phase 2).
xju@xjutv:~/urnest/odin/odin-1.17.10x$ find ~/x-bin
/home/xju/x-bin
/home/xju/x-bin/lib
/home/xju/x-bin/lib/Odin
/home/xju/x-bin/lib/Odin/tex
/home/xju/x-bin/lib/Odin/tex/3.0.0
/home/xju/x-bin/lib/Odin/tex/3.0.0/texscan.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/texauxin.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/bibtex.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/tex.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/version
/home/xju/x-bin/lib/Odin/tex/3.0.0/fmtcmd.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/tex_view.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/texsp.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/texscan.c
/home/xju/x-bin/lib/Odin/tex/3.0.0/tex.dg
/home/xju/x-bin/lib/Odin/tex/3.0.0/oneTex.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/dvips.sh
/home/xju/x-bin/lib/Odin/tex/3.0.0/root.sh
/home/xju/x-bin/lib/Odin/tex/PKGVER.4
/home/xju/x-bin/lib/Odin/tex/PKGVER.1
/home/xju/x-bin/lib/Odin/tex/PKGVER.5
/home/xju/x-bin/lib/Odin/tex/PKGVER.3
/home/xju/x-bin/lib/Odin/tex/PKGVER.2
/home/xju/x-bin/lib/Odin/tex/PKGVER.6
/home/xju/x-bin/lib/Odin/tex/PKGVER
/home/xju/x-bin/lib/Odin/cxx
/home/xju/x-bin/lib/Odin/cxx/PKGVER.4
/home/xju/x-bin/lib/Odin/cxx/PKGVER.1
/home/xju/x-bin/lib/Odin/cxx/PKGVER.5
/home/xju/x-bin/lib/Odin/cxx/PKGVER.3
/home/xju/x-bin/lib/Odin/cxx/PKGVER.2
/home/xju/x-bin/lib/Odin/cxx/PKGVER.6
/home/xju/x-bin/lib/Odin/cxx/1.12.6
/home/xju/x-bin/lib/Odin/cxx/1.12.6/abort_msgs
/home/xju/x-bin/lib/Odin/cxx/1.12.6/CC.sh
/home/xju/x-bin/lib/Odin/cxx/1.12.6/version
/home/xju/x-bin/lib/Odin/cxx/1.12.6/ptr_of
/home/xju/x-bin/lib/Odin/cxx/1.12.6/cxx.dg
/home/xju/x-bin/lib/Odin/cxx/1.12.6/ld.sh
/home/xju/x-bin/lib/Odin/cxx/1.12.6/cxx_inc.sh
/home/xju/x-bin/lib/Odin/cxx/PKGVER
/home/xju/x-bin/lib/Odin/config
/home/xju/x-bin/lib/Odin/config/PKGVER.4
/home/xju/x-bin/lib/Odin/config/PKGVER.1
/home/xju/x-bin/lib/Odin/config/PKGVER.5
/home/xju/x-bin/lib/Odin/config/1.17.11
/home/xju/x-bin/lib/Odin/config/1.17.11/config.dg~
/home/xju/x-bin/lib/Odin/config/1.17.11/boot.sh
/home/xju/x-bin/lib/Odin/config/1.17.11/version
/home/xju/x-bin/lib/Odin/config/1.17.11/boot.sh~
/home/xju/x-bin/lib/Odin/config/1.17.11/config.dg
/home/xju/x-bin/lib/Odin/config/PKGVER.3
/home/xju/x-bin/lib/Odin/config/PKGVER.2
/home/xju/x-bin/lib/Odin/config/PKGVER.6
/home/xju/x-bin/lib/Odin/config/PKGVER
/home/xju/x-bin/lib/Odin/cpp
/home/xju/x-bin/lib/Odin/cpp/PKGVER.4
/home/xju/x-bin/lib/Odin/cpp/PKGVER.1
/home/xju/x-bin/lib/Odin/cpp/PKGVER.5
/home/xju/x-bin/lib/Odin/cpp/PKGVER.3
/home/xju/x-bin/lib/Odin/cpp/PKGVER.2
/home/xju/x-bin/lib/Odin/cpp/PKGVER.6
/home/xju/x-bin/lib/Odin/cpp/1.12.6
/home/xju/x-bin/lib/Odin/cpp/1.12.6/cpp.sh
/home/xju/x-bin/lib/Odin/cpp/1.12.6/cpp.dg
/home/xju/x-bin/lib/Odin/cpp/PKGVER
/home/xju/x-bin/lib/Odin/dg
/home/xju/x-bin/lib/Odin/dg/PKGVER.4
/home/xju/x-bin/lib/Odin/dg/PKGVER.1
/home/xju/x-bin/lib/Odin/dg/PKGVER.5
/home/xju/x-bin/lib/Odin/dg/1.16.11
/home/xju/x-bin/lib/Odin/dg/1.16.11/dg_out.sh
/home/xju/x-bin/lib/Odin/dg/1.16.11/dg.dg
/home/xju/x-bin/lib/Odin/dg/1.16.11/dg.exe
/home/xju/x-bin/lib/Odin/dg/PKGVER.3
/home/xju/x-bin/lib/Odin/dg/PKGVER.2
/home/xju/x-bin/lib/Odin/dg/PKGVER.6
/home/xju/x-bin/lib/Odin/dg/PKGVER
/home/xju/x-bin/lib/Odin/code
/home/xju/x-bin/lib/Odin/code/PKGVER.4
/home/xju/x-bin/lib/Odin/code/PKGVER.1
/home/xju/x-bin/lib/Odin/code/1.11.18
/home/xju/x-bin/lib/Odin/code/1.11.18/version
/home/xju/x-bin/lib/Odin/code/1.11.18/libraries.sh
/home/xju/x-bin/lib/Odin/code/1.11.18/code.dg
/home/xju/x-bin/lib/Odin/code/1.11.18/o_of.sh
/home/xju/x-bin/lib/Odin/code/1.11.18/ar.sh
/home/xju/x-bin/lib/Odin/code/PKGVER.5
/home/xju/x-bin/lib/Odin/code/PKGVER.3
/home/xju/x-bin/lib/Odin/code/PKGVER.2
/home/xju/x-bin/lib/Odin/code/PKGVER.6
/home/xju/x-bin/lib/Odin/code/PKGVER
/home/xju/x-bin/lib/Odin/LIBVER
/home/xju/x-bin/lib/Odin/dbx
/home/xju/x-bin/lib/Odin/dbx/PKGVER.4
/home/xju/x-bin/lib/Odin/dbx/PKGVER.1
/home/xju/x-bin/lib/Odin/dbx/PKGVER.5
/home/xju/x-bin/lib/Odin/dbx/1.13.4
/home/xju/x-bin/lib/Odin/dbx/1.13.4/version
/home/xju/x-bin/lib/Odin/dbx/1.13.4/dbx.dg
/home/xju/x-bin/lib/Odin/dbx/1.13.4/dbx.sh
/home/xju/x-bin/lib/Odin/dbx/PKGVER.3
/home/xju/x-bin/lib/Odin/dbx/PKGVER.2
/home/xju/x-bin/lib/Odin/dbx/PKGVER.6
/home/xju/x-bin/lib/Odin/dbx/PKGVER
/home/xju/x-bin/lib/Odin/idl
/home/xju/x-bin/lib/Odin/idl/PKGVER.4
/home/xju/x-bin/lib/Odin/idl/PKGVER.1
/home/xju/x-bin/lib/Odin/idl/1.13.3
/home/xju/x-bin/lib/Odin/idl/1.13.3/idl_inc.sh
/home/xju/x-bin/lib/Odin/idl/1.13.3/version
/home/xju/x-bin/lib/Odin/idl/1.13.3/idl_tgts.sh
/home/xju/x-bin/lib/Odin/idl/1.13.3/idl.dg
/home/xju/x-bin/lib/Odin/idl/1.13.3/idl.sh
/home/xju/x-bin/lib/Odin/idl/PKGVER.5
/home/xju/x-bin/lib/Odin/idl/PKGVER.3
/home/xju/x-bin/lib/Odin/idl/PKGVER.2
/home/xju/x-bin/lib/Odin/idl/PKGVER.6
/home/xju/x-bin/lib/Odin/idl/PKGVER
/home/xju/x-bin/lib/Odin/vc
/home/xju/x-bin/lib/Odin/vc/PKGVER.4
/home/xju/x-bin/lib/Odin/vc/PKGVER.1
/home/xju/x-bin/lib/Odin/vc/PKGVER.5
/home/xju/x-bin/lib/Odin/vc/PKGVER.3
/home/xju/x-bin/lib/Odin/vc/PKGVER.2
/home/xju/x-bin/lib/Odin/vc/PKGVER.6
/home/xju/x-bin/lib/Odin/vc/1.11.19
/home/xju/x-bin/lib/Odin/vc/1.11.19/vw.of.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/rcs_co.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/rcs.log.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/version
/home/xju/x-bin/lib/Odin/vc/1.11.19/sccs_co.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/vc.dg
/home/xju/x-bin/lib/Odin/vc/1.11.19/vw.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/merge.sh
/home/xju/x-bin/lib/Odin/vc/1.11.19/sccs.log.sh
/home/xju/x-bin/lib/Odin/vc/PKGVER
/home/xju/x-bin/lib/Odin/prof
/home/xju/x-bin/lib/Odin/prof/PKGVER.4
/home/xju/x-bin/lib/Odin/prof/PKGVER.1
/home/xju/x-bin/lib/Odin/prof/PKGVER.5
/home/xju/x-bin/lib/Odin/prof/1.13.4
/home/xju/x-bin/lib/Odin/prof/1.13.4/prof.dg
/home/xju/x-bin/lib/Odin/prof/1.13.4/version
/home/xju/x-bin/lib/Odin/prof/1.13.4/profile.sh
/home/xju/x-bin/lib/Odin/prof/PKGVER.3
/home/xju/x-bin/lib/Odin/prof/PKGVER.2
/home/xju/x-bin/lib/Odin/prof/PKGVER.6
/home/xju/x-bin/lib/Odin/prof/PKGVER
/home/xju/x-bin/lib/Odin/f77
/home/xju/x-bin/lib/Odin/f77/PKGVER.4
/home/xju/x-bin/lib/Odin/f77/PKGVER.1
/home/xju/x-bin/lib/Odin/f77/PKGVER.5
/home/xju/x-bin/lib/Odin/f77/PKGVER.3
/home/xju/x-bin/lib/Odin/f77/PKGVER.2
/home/xju/x-bin/lib/Odin/f77/PKGVER.6
/home/xju/x-bin/lib/Odin/f77/1.11.10
/home/xju/x-bin/lib/Odin/f77/1.11.10/version
/home/xju/x-bin/lib/Odin/f77/1.11.10/f77.dg
/home/xju/x-bin/lib/Odin/f77/1.11.10/f_obj.sh
/home/xju/x-bin/lib/Odin/f77/PKGVER
/home/xju/x-bin/lib/Odin/roff
/home/xju/x-bin/lib/Odin/roff/PKGVER.4
/home/xju/x-bin/lib/Odin/roff/PKGVER.1
/home/xju/x-bin/lib/Odin/roff/PKGVER.5
/home/xju/x-bin/lib/Odin/roff/PKGVER.3
/home/xju/x-bin/lib/Odin/roff/PKGVER.2
/home/xju/x-bin/lib/Odin/roff/PKGVER.6
/home/xju/x-bin/lib/Odin/roff/1.12.6
/home/xju/x-bin/lib/Odin/roff/1.12.6/nroff.sh
/home/xju/x-bin/lib/Odin/roff/1.12.6/so_inc.sh
/home/xju/x-bin/lib/Odin/roff/1.12.6/version
/home/xju/x-bin/lib/Odin/roff/1.12.6/tbl.sh
/home/xju/x-bin/lib/Odin/roff/1.12.6/roff.dg
/home/xju/x-bin/lib/Odin/roff/1.12.6/eqn.sh
/home/xju/x-bin/lib/Odin/roff/PKGVER
/home/xju/x-bin/lib/Odin/lint
/home/xju/x-bin/lib/Odin/lint/PKGVER.4
/home/xju/x-bin/lib/Odin/lint/PKGVER.1
/home/xju/x-bin/lib/Odin/lint/PKGVER.5
/home/xju/x-bin/lib/Odin/lint/PKGVER.3
/home/xju/x-bin/lib/Odin/lint/PKGVER.2
/home/xju/x-bin/lib/Odin/lint/PKGVER.6
/home/xju/x-bin/lib/Odin/lint/1.12.6
/home/xju/x-bin/lib/Odin/lint/1.12.6/version
/home/xju/x-bin/lib/Odin/lint/1.12.6/lint.sh
/home/xju/x-bin/lib/Odin/lint/1.12.6/lint.dg
/home/xju/x-bin/lib/Odin/lint/1.12.6/lint1.sh
/home/xju/x-bin/lib/Odin/lint/PKGVER
/home/xju/x-bin/lib/Odin/run
/home/xju/x-bin/lib/Odin/run/PKGVER.4
/home/xju/x-bin/lib/Odin/run/PKGVER.1
/home/xju/x-bin/lib/Odin/run/PKGVER.5
/home/xju/x-bin/lib/Odin/run/1.13.4
/home/xju/x-bin/lib/Odin/run/1.13.4/version
/home/xju/x-bin/lib/Odin/run/1.13.4/run.dg
/home/xju/x-bin/lib/Odin/run/1.13.4/run.sh
/home/xju/x-bin/lib/Odin/run/1.13.4/pipe.run.sh
/home/xju/x-bin/lib/Odin/run/PKGVER.3
/home/xju/x-bin/lib/Odin/run/PKGVER.2
/home/xju/x-bin/lib/Odin/run/PKGVER.6
/home/xju/x-bin/lib/Odin/run/PKGVER
/home/xju/x-bin/lib/Odin/PKGLST
/home/xju/x-bin/lib/Odin/yacc
/home/xju/x-bin/lib/Odin/yacc/PKGVER.4
/home/xju/x-bin/lib/Odin/yacc/PKGVER.1
/home/xju/x-bin/lib/Odin/yacc/PKGVER.5
/home/xju/x-bin/lib/Odin/yacc/1.15
/home/xju/x-bin/lib/Odin/yacc/1.15/yacc.dg
/home/xju/x-bin/lib/Odin/yacc/1.15/version
/home/xju/x-bin/lib/Odin/yacc/1.15/yacc.sh
/home/xju/x-bin/lib/Odin/yacc/PKGVER.3
/home/xju/x-bin/lib/Odin/yacc/PKGVER.2
/home/xju/x-bin/lib/Odin/yacc/PKGVER.6
/home/xju/x-bin/lib/Odin/yacc/PKGVER
/home/xju/x-bin/lib/Odin/lex
/home/xju/x-bin/lib/Odin/lex/PKGVER.4
/home/xju/x-bin/lib/Odin/lex/PKGVER.1
/home/xju/x-bin/lib/Odin/lex/PKGVER.5
/home/xju/x-bin/lib/Odin/lex/PKGVER.3
/home/xju/x-bin/lib/Odin/lex/PKGVER.2
/home/xju/x-bin/lib/Odin/lex/PKGVER.6
/home/xju/x-bin/lib/Odin/lex/1.11.10
/home/xju/x-bin/lib/Odin/lex/1.11.10/lex.dg
/home/xju/x-bin/lib/Odin/lex/1.11.10/version
/home/xju/x-bin/lib/Odin/lex/1.11.10/lex.sh
/home/xju/x-bin/lib/Odin/lex/PKGVER
/home/xju/x-bin/lib/Odin/cc
/home/xju/x-bin/lib/Odin/cc/PKGVER.4
/home/xju/x-bin/lib/Odin/cc/PKGVER.1
/home/xju/x-bin/lib/Odin/cc/PKGVER.5
/home/xju/x-bin/lib/Odin/cc/PKGVER.3
/home/xju/x-bin/lib/Odin/cc/PKGVER.2
/home/xju/x-bin/lib/Odin/cc/PKGVER.6
/home/xju/x-bin/lib/Odin/cc/1.12.6
/home/xju/x-bin/lib/Odin/cc/1.12.6/version
/home/xju/x-bin/lib/Odin/cc/1.12.6/c.h.sh
/home/xju/x-bin/lib/Odin/cc/1.12.6/cc.dg
/home/xju/x-bin/lib/Odin/cc/1.12.6/c_inc.sh
/home/xju/x-bin/lib/Odin/cc/1.12.6/header_c.sed
/home/xju/x-bin/lib/Odin/cc/1.12.6/c_inc.c
/home/xju/x-bin/lib/Odin/cc/1.12.6/cc.sh
/home/xju/x-bin/lib/Odin/cc/1.12.6/ld.sh
/home/xju/x-bin/lib/Odin/cc/1.12.6/fmt.c.sh
/home/xju/x-bin/lib/Odin/cc/PKGVER
/home/xju/x-bin/lib/Odin/odi
/home/xju/x-bin/lib/Odin/odi/PKGVER.4
/home/xju/x-bin/lib/Odin/odi/PKGVER.1
/home/xju/x-bin/lib/Odin/odi/PKGVER.5
/home/xju/x-bin/lib/Odin/odi/PKGVER.3
/home/xju/x-bin/lib/Odin/odi/PKGVER.2
/home/xju/x-bin/lib/Odin/odi/1.11.15
/home/xju/x-bin/lib/Odin/odi/1.11.15/app_schema.sh
/home/xju/x-bin/lib/Odin/odi/1.11.15/version
/home/xju/x-bin/lib/Odin/odi/1.11.15/com_schema.sh
/home/xju/x-bin/lib/Odin/odi/1.11.15/odi.dg
/home/xju/x-bin/lib/Odin/odi/PKGVER.6
/home/xju/x-bin/lib/Odin/odi/PKGVER
/home/xju/x-bin/lib/Odin/misc
/home/xju/x-bin/lib/Odin/misc/PKGVER.4
/home/xju/x-bin/lib/Odin/misc/PKGVER.1
/home/xju/x-bin/lib/Odin/misc/PKGVER.5
/home/xju/x-bin/lib/Odin/misc/PKGVER.3
/home/xju/x-bin/lib/Odin/misc/PKGVER.2
/home/xju/x-bin/lib/Odin/misc/PKGVER.6
/home/xju/x-bin/lib/Odin/misc/1.12.6
/home/xju/x-bin/lib/Odin/misc/1.12.6/boot.sh
/home/xju/x-bin/lib/Odin/misc/1.12.6/version
/home/xju/x-bin/lib/Odin/misc/1.12.6/redo.sh
/home/xju/x-bin/lib/Odin/misc/1.12.6/diff.sh
/home/xju/x-bin/lib/Odin/misc/1.12.6/misc.dg
/home/xju/x-bin/lib/Odin/misc/1.12.6/rcp.sh
/home/xju/x-bin/lib/Odin/misc/1.12.6/redo_errs.sh
/home/xju/x-bin/lib/Odin/misc/PKGVER
/home/xju/x-bin/lib/Odin/tregrm
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.4
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.1
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.5
/home/xju/x-bin/lib/Odin/tregrm/1.15
/home/xju/x-bin/lib/Odin/tregrm/1.15/tregrm.dg
/home/xju/x-bin/lib/Odin/tregrm/1.15/ygt.sh
/home/xju/x-bin/lib/Odin/tregrm/1.15/tregrm.exe
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.3
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.2
/home/xju/x-bin/lib/Odin/tregrm/PKGVER.6
/home/xju/x-bin/lib/Odin/tregrm/PKGVER
/home/xju/x-bin/lib/Odin/odin
/home/xju/x-bin/lib/Odin/odin/1.17.9
/home/xju/x-bin/lib/Odin/odin/1.17.9/rbs-local.sh
/home/xju/x-bin/lib/Odin/odin/1.17.9/odin.dg
/home/xju/x-bin/lib/Odin/odin/1.17.9/help.sh
/home/xju/x-bin/lib/Odin/odin/1.17.9/rbs.exe
/home/xju/x-bin/lib/Odin/odin/1.17.9/odin.exe
/home/xju/x-bin/lib/Odin/odin/1.17.9/copy.sh
/home/xju/x-bin/lib/Odin/odin/1.17.9/rbs.sh
/home/xju/x-bin/lib/Odin/odin/PKGVER.4
/home/xju/x-bin/lib/Odin/odin/PKGVER.1
/home/xju/x-bin/lib/Odin/odin/PKGVER.5
/home/xju/x-bin/lib/Odin/odin/PKGVER.3
/home/xju/x-bin/lib/Odin/odin/PKGVER.2
/home/xju/x-bin/lib/Odin/odin/PKGVER.6
/home/xju/x-bin/lib/Odin/odin/PKGVER
/home/xju/x-bin/bin
/home/xju/x-bin/bin/odin
/home/xju/x-bin/man
/home/xju/x-bin/man/man1
/home/xju/x-bin/man/man1/odin.1
